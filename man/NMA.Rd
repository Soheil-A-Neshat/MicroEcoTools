% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/NMA.R
\name{NMA}
\alias{NMA}
\title{Theoretical Microbial Ecology Tools (MicroEcoTools)}
\usage{
NMA(
  DaTa,
  NSim = 1000,
  InDeX = "invsimpson",
  ObSsIm = FALSE,
  p.adj = "BH",
  Plot_Level,
  Keep_Data = FALSE,
  Deb = FALSE
)
}
\arguments{
\item{DaTa}{A data frame containing environmental and community data in long format with column names: 
Exp.Grp, Replicate, Time_point, TAXA, and Count. At least two replicates per experimental group are required.}

\item{NSim}{A number specifying the number of simulations (values below 1000 are not recommended). Defaults to \code{1000}.}

\item{InDeX}{A diversity index from the vegan package ("shannon", "simpson", or "invsimpson"). Defaults to \code{"invsimpson"}.}

\item{ObSsIm}{Logical. If TRUE, a dataset with a multinomial distribution using the observed data as a probability matrix is generated. Defaults to \code{FALSE}.}

\item{p.adj}{A p-value correction method ("holm", "hochberg", "hommel", "bonferroni", "BH", "BY", "fdr", or "none"). Defaults to \code{"BH"}.}

\item{Plot_Level}{A vector with experimental group titles. Defaults to the unique values of the Exp.Grp column in the input data.}

\item{Keep_Data}{Logical. If TRUE, simulated data is kept; otherwise, it is removed to save space. Defaults to \code{FALSE}.}

\item{Deb}{Logical. If TRUE, the function runs in verbose mode. Defaults to \code{FALSE}.}
}
\value{
A list (NMA_Results) containing:
  \itemize{
    \item The original data (DaTa)
    \item Observed and simulated community data
    \item Diversity metrics and test statistics (including p-values and effect sizes)
    \item Processed data for plotting (e.g., SES, SI, Kraft models, Cohen's d, Hill diversity)
    \item A set of ggplot objects for visualization (if generated)
    \item The NMA parameters used in the analysis
  }
}
\description{
The tools implemented in MicroEcoTools help researchers and practitioners apply theoretical frameworks to community data. 
The current version covers theories connecting assembly mechanisms to diversity and functions. In particular, the NMA function implements 
a null model approach (based on a multinomial distribution) to assess the relative contribution of stochastic versus deterministic assembly 
mechanisms.
}
\note{
All environmental variables should be converted to factors.

Accepted environmental variables: Time_point, Exp.Grp, and Replicate.
}
\section{Null model analysis (NMA)}{

Using a null model approach, this function tests the relative contribution of assembly mechanisms in a given community. 
Based on the observed communities, it simulates random communities using a multinomial distribution. A diversity metric is then used 
to calculate the standard effect size between the observed communities and the simulated (null) communities.
}

\examples{
\dontrun{
  # Perform null model analysis on experimental data from a perturbation experiment.
  nma_results <- NMA(DaTa = NMA_data, NSim = 1000)
}
}
\references{
Santillan, Ezequiel, et al. "Frequency of disturbance alters diversity, function, and underlying assembly mechanisms of complex bacterial communities." npj Biofilms and Microbiomes 5.1 (2019): 1-9.

Kraft, Nathan JB, et al. "Disentangling the drivers of Î² diversity along latitudinal and elevational gradients." Science 333.6050 (2011): 1755-1758.
}
\seealso{
\code{vignette("MicroEcoTools_vignette")}

\code{vignette("MicroEcoTools_vignette")}
}
\author{
Soheil A. Neshat, Ezequiel Santillan, Stefan Wuertz

(The MicroEcoTools package was developed in Singapore Centre for Environmental Life Sciences Engineering, 
Nanyang Technological University, Singapore)
}
\keyword{CSR,}
\keyword{Grime's}
\keyword{Intermediate}
\keyword{Null}
\keyword{Theoretical}
\keyword{Trait-based,}
\keyword{analysis,}
\keyword{community}
\keyword{ecology}
\keyword{ecology,}
\keyword{hypothesis,}
\keyword{microbial}
\keyword{model}
\keyword{stochasticity}
\keyword{triangle,}
